/* Estilos base reutilizados */
body { background-color: #1a1a1a; color: #c5c5c5; font-family: monospace; display: flex; flex-direction: column; align-items: center; padding: 20px; }
h1, h2 { color: #e0e0e0; font-weight: normal; }
.main-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; width: 100%; max-width: 1400px; }
.legend-container { min-width: 300px; max-width: 400px; flex-grow: 1; }
.legend { max-height: 500px; overflow-y: auto; }
.legend-item { display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 10px; background-color: #333; padding: 8px; border-radius: 5px; }
.legend-key-name { flex-grow: 1; font-size: 14px; }
.tag-selector { background-color: #555; color: #e0e0e0; border: 1px solid #888; border-radius: 4px; padding: 5px; margin: 0 10px; font-family: monospace; cursor: pointer; }
.description-input { background-color: #444; color: #e0e0e0; border: 1px solid #888; border-radius: 4px; padding: 6px; margin-top: 5px; width: calc(100% - 12px); font-family: monospace; box-sizing: border-box; }
.delete-btn { background-color: #9e2a2a; color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 5px 10px; font-family: monospace; }
.export-controls { margin-top: 25px; display: flex; gap: 15px; }
.export-controls button { background-color: #0d6b9e; color: #e0e0e0; border: 1px solid #4f9fcf; padding: 10px 15px; font-family: monospace; cursor: pointer; font-size: 14px; border-radius: 5px; transition: background-color 0.2s; }
.export-controls button:hover { background-color: #1a8bc2; }

/* --- ESTILOS CON IMAGEN DE FONDO --- */
.controller-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: 700px; /* Ajustar según tamaño de imagen */
}
.controller {
    position: relative;
    /* AJUSTAR width y height para que coincidan con las dimensiones de controller-diagram.png */
    width: 2400px; 
    height: 720px; 
    background-image: url('controller-diagram.png');
    background-size: contain; /* O 'cover', o un tamaño específico */
    background-repeat: no-repeat;
    background-position: center;
    /* Quitar estilos previos de forma */
    background-color: transparent; 
    border-radius: 0;
    box-shadow: none;
    border: none;
    padding: 0;
}

.mappable {
    position: absolute;
    background-color: rgba(255, 0, 0, 0.5); /* Inicialmente transparente, 0.5 de alfa para debug si es necesario */
    border-radius: 5px; /* Por defecto */
    cursor: pointer;
    transition: background-color 0.2s;
    /* Quitar estilos previos */
    box-shadow: none;
    display: block; /* Quitar flex */
    color: transparent; /* Ocultar texto LB/RB */
    font-size: 0;
    border: none;
}
.mappable:hover {
     /* Efecto sutil al pasar el ratón, opcional */
    background-color: rgba(0, 255, 0, 0.2);
    transform: none; /* Quitar el scale */
    z-index: 3;
}

/* --- POSICIONAMIENTO PRECISO (¡AJUSTAR ESTOS VALORES!) --- */
/* Los valores top, left, width, height deben ajustarse para que cada div */
/* cubra exactamente el botón correspondiente en la imagen controller-diagram.png */

/* Bumpers */
#lb { top: 143px; left: 590px; width: 43px; height: 10px; border-radius: 49% 229% 0 0; rotate: -10deg; }
#rb { top: 143px; right: 602px; width: 43px; height: 10px; border-radius: 256% 88% 0 0; rotate: 10deg; }
/* Triggers (área aproximada) */
#lt { top: 152px; left: 566px; width: 26px; height: 9px; border-radius: 92% 37% 0% 0; rotate: -27deg; }
#rt { top: 153px; right: 578px; width: 26px; height: 9px; border-radius: 0% 99% 0% 24%; rotate: 27deg; }
/* Sticks */
#LS { top: 296px; left: 432px; width: 69px; height: 63px; border-radius: 50%; border: solid transparent 12px; }
#LS:hover { border: solid rgba(0, 255, 0, 0.2) 12px; }
#RS { top: 420px; right: 540px; width: 69px; height: 62px; border-radius: 50%; border: solid transparent 12px; }
#RS:hover { border: solid rgba(0, 255, 0, 0.2) 16px; width: 61px; height: 54px; }
#LSB { top: 315px; left: 446px; width: 63px; height: 58px; border-radius: 50%; z-index: 3; }
#RSB { top: 439px; right: 554px; width: 64px; height: 58px; border-radius: 50%; z-index: 3; }
/* Center Buttons */
#view { top: 205px; left: 658px; width: 17px; height: 17px; border-radius: 10px;}
#menu { top: 205px; right: 670px; width: 17px; height: 17px; border-radius: 10px; }
/* D-Pad Arrows */
#dpad { /* Contenedor invisible para agrupar */
    position:absolute; 
    top: 237px; 
    left: 604px; 
    width: 80px; 
    height: 80px;
    background: transparent;
    border-radius: 0;
    box-shadow: none;
}
.dpad-arrow { background: transparent; box-shadow: none; border: none; }
#d-up { position: absolute; top: 10px; left: 30px; width: 20px; height: 20px; }
#d-down { position: absolute; bottom: 10px; left: 30px; width: 20px; height: 20px; }
#d-left { position: absolute; top: 30px; left: 10px; width: 20px; height: 20px; }
#d-right { position: absolute; top: 30px; right: 10px; width: 20px; height: 20px; }
/* Face Buttons */
#fbuttons {
    position: absolute;
    top: 44px;
    right: 431px;
}
.face-button { border-radius: 50%; width: 26px; height: 26px; }
#y { top: 133px; right: 165px; }
#x { top: 157px; right: 190px; }
#b { top: 159px; right: 140px; }
#a { top: 183px; right: 165px; }