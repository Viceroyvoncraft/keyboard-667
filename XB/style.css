/* Estilos base reutilizados */
body { background-color: #1a1a1a; color: #c5c5c5; font-family: monospace; display: flex; flex-direction: column; align-items: center; padding: 20px; }
h1, h2 { color: #e0e0e0; font-weight: normal; }
.main-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; width: 100%; max-width: 1400px; }
.legend-container { min-width: 300px; max-width: 400px; flex-grow: 1; }
.legend { max-height: 500px; overflow-y: auto; }
.legend-item { display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 10px; background-color: #333; padding: 8px; border-radius: 5px; }
.legend-key-name { flex-grow: 1; font-size: 14px; }
.tag-selector { background-color: #555; color: #e0e0e0; border: 1px solid #888; border-radius: 4px; padding: 5px; margin: 0 10px; font-family: monospace; cursor: pointer; }
.description-input { background-color: #444; color: #e0e0e0; border: 1px solid #888; border-radius: 4px; padding: 6px; margin-top: 5px; width: calc(100% - 12px); font-family: monospace; box-sizing: border-box; }
.delete-btn { background-color: #9e2a2a; color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 5px 10px; font-family: monospace; }
.export-controls { margin-top: 25px; display: flex; gap: 15px; }
.export-controls button { background-color: #0d6b9e; color: #e0e0e0; border: 1px solid #4f9fcf; padding: 10px 15px; font-family: monospace; cursor: pointer; font-size: 14px; border-radius: 5px; transition: background-color 0.2s; }
.export-controls button:hover { background-color: #1a8bc2; }

/* --- ESTILOS CON IMAGEN DE FONDO --- */
.controller-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: 700px; /* Ajustar según tamaño de imagen */
}
.controller {
    position: relative;
    /* AJUSTAR width y height para que coincidan con las dimensiones de controller-diagram.png */
    width: 650px; 
    height: 450px; 
    background-image: url('controller-diagram.png');
    background-size: contain; /* O 'cover', o un tamaño específico */
    background-repeat: no-repeat;
    background-position: center;
    /* Quitar estilos previos de forma */
    background-color: transparent; 
    border-radius: 0;
    box-shadow: none;
    border: none;
    padding: 0;
}

.mappable {
    position: absolute;
    background-color: rgba(255, 0, 0, 0.0); /* Inicialmente transparente, 0.5 de alfa para debug si es necesario */
    border-radius: 5px; /* Por defecto */
    cursor: pointer;
    transition: background-color 0.2s;
    /* Quitar estilos previos */
    box-shadow: none;
    display: block; /* Quitar flex */
    color: transparent; /* Ocultar texto LB/RB */
    font-size: 0;
    border: none;
}
.mappable:hover {
     /* Efecto sutil al pasar el ratón, opcional */
    background-color: rgba(0, 255, 0, 0.2);
    transform: none; /* Quitar el scale */
}

/* --- POSICIONAMIENTO PRECISO (¡AJUSTAR ESTOS VALORES!) --- */
/* Los valores top, left, width, height deben ajustarse para que cada div */
/* cubra exactamente el botón correspondiente en la imagen controller-diagram.png */

/* Bumpers */
#lb { top: 35px; left: 95px; width: 90px; height: 35px; border-radius: 10px 10px 0 0; }
#rb { top: 35px; right: 95px; width: 90px; height: 35px; border-radius: 10px 10px 0 0; }
/* Triggers (área aproximada) */
#lt { top: 0px; left: 100px; width: 80px; height: 40px; border-radius: 10px 0 0 0; }
#rt { top: 0px; right: 100px; width: 80px; height: 40px; border-radius: 0 10px 0 0; }
/* Sticks */
#ls { top: 105px; left: 100px; width: 85px; height: 85px; border-radius: 50%; }
#rs { top: 225px; right: 100px; width: 85px; height: 85px; border-radius: 50%; }
/* Center Buttons */
#xbox-button { top: 58px; left: 285px; width: 40px; height: 40px; border-radius: 50%; }
#view { top: 168px; left: 215px; width: 30px; height: 20px; border-radius: 10px; transform: rotate(-15deg);}
#menu { top: 168px; right: 215px; width: 30px; height: 20px; border-radius: 10px; transform: rotate(15deg); }
#share { top: 218px; left: 292px; width: 25px; height: 25px; border-radius: 5px; }
/* D-Pad Arrows */
#dpad { /* Contenedor invisible para agrupar */
    position: absolute; 
    top: 220px; 
    left: 175px; 
    width: 80px; 
    height: 80px;
    background: transparent;
    border-radius: 0;
    box-shadow: none;
}
.dpad-arrow { background: transparent; box-shadow: none; border: none; }
#d-up { position: absolute; top: 0; left: 25px; width: 30px; height: 30px; }
#d-down { position: absolute; bottom: 0; left: 25px; width: 30px; height: 30px; }
#d-left { position: absolute; top: 25px; left: 0; width: 30px; height: 30px; }
#d-right { position: absolute; top: 25px; right: 0; width: 30px; height: 30px; }
/* Face Buttons */
.face-button { border-radius: 50%; width: 45px; height: 45px; }
#y { top: 105px; right: 155px; }
#x { top: 150px; right: 200px; }
#b { top: 150px; right: 110px; }
#a { top: 195px; right: 155px; }