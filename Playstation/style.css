/* Estilos base reutilizados del teclado */
body { background-color: #1a1a1a; color: #c5c5c5; font-family: monospace; display: flex; flex-direction: column; align-items: center; padding: 20px; }
h1, h2 { color: #e0e0e0; font-weight: normal; }
.main-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; width: 100%; max-width: 1400px; }
.legend-container { min-width: 300px; max-width: 400px; flex-grow: 1; }
.legend { max-height: 500px; overflow-y: auto; }
.legend-item { display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 10px; background-color: #333; padding: 8px; border-radius: 5px; }
.legend-key-name { flex-grow: 1; font-size: 14px; }
.tag-selector { background-color: #555; color: #e0e0e0; border: 1px solid #888; border-radius: 4px; padding: 5px; margin: 0 10px; font-family: monospace; cursor: pointer; }
.description-input { background-color: #444; color: #e0e0e0; border: 1px solid #888; border-radius: 4px; padding: 6px; margin-top: 5px; width: calc(100% - 12px); font-family: monospace; box-sizing: border-box; }
.delete-btn { background-color: #9e2a2a; color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 5px 10px; font-family: monospace; }
.export-controls { margin-top: 25px; display: flex; gap: 15px; }
.export-controls button { background-color: #0d6b9e; color: #e0e0e0; border: 1px solid #4f9fcf; padding: 10px 15px; font-family: monospace; cursor: pointer; font-size: 14px; border-radius: 5px; transition: background-color 0.2s; }
.export-controls button:hover { background-color: #1a8bc2; }

/* --- NUEVOS ESTILOS PARA EL CONTROLADOR PLAYSTATION --- */
.controller-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: 600px;
}
.controller {
    position: relative;
    width: 600px;
    height: 400px;
    background-color: #1a1a1a;
    border-radius: 40px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    border: 2px solid #555;
}
.controller::before { /* Parte blanca */
    content: '';
    position: absolute;
    top: 25px;
    left: 25px;
    width: 550px;
    height: 350px;
    background: #EAEAEA;
    border-radius: 25px;
}
.mappable {
    cursor: pointer;
    transition: background-color 0.2s, box-shadow 0.2s, transform 0.1s;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
    position: absolute; /* Todos los elementos son absolutos */
    z-index: 1;
}
.mappable:hover {
    transform: scale(1.05);
}
/* -- Hombros -- */
#l1, #r1 { top: 0px; width: 100px; height: 30px; background: #ddd; text-align: center; line-height: 30px; color: #555; font-weight: bold; }
#l1 { left: 80px; border-radius: 10px 0 0 0; }
#r1 { right: 80px; border-radius: 0 10px 0 0; }
#l2, #r2 { top: -10px; width: 120px; height: 45px; background: #ccc; z-index: -1; text-align: center; line-height: 60px; color: #555; font-weight: bold; }
#l2 { left: 70px; border-radius: 10px 0 0 0; }
#r2 { right: 70px; border-radius: 0 10px 0 0; }

/* -- Sticks -- */
#ls, #rs { bottom: 80px; width: 90px; height: 90px; background: #444; border: 2px solid #333; border-radius: 50%; box-shadow: 0 0 10px rgba(0,0,0,0.5) inset; }
#ls::after, #rs::after { content: ''; position: absolute; top: 15px; left: 15px; width: 60px; height: 60px; background: #333; border-radius: 50%; }
#ls { left: 80px; }
#rs { right: 80px; }

/* -- D-Pad -- */
#dpad { top: 120px; left: 80px; width: 90px; height: 90px; }
.dpad-shape { background: #333; width: 30px; height: 30px; }
#d-up { top: 0; left: 30px; }
#d-down { bottom: 0; left: 30px; }
#d-left { top: 30px; left: 0; }
#d-right { top: 30px; right: 0; }

/* -- Botones Frontales -- */
.face-button { width: 45px; height: 45px; background: #333; border-radius: 50%; }
.face-button::after { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 24px; }
#triangle { top: 120px; right: 80px; }
#triangle::after { content: '△'; color: #81D4FA; }
#square { top: 165px; right: 125px; }
#square::after { content: '◻'; color: #F48FB1; }
#circle { top: 165px; right: 35px; }
#circle::after { content: '○'; color: #EF5350; }
#cross { top: 210px; right: 80px; }
#cross::after { content: '✕'; color: #64B5F6; }

/* -- Botones Centrales -- */
#create { top: 80px; left: 180px; width: 40px; height: 20px; background: #333; border-radius: 10px; }
#options { top: 80px; right: 180px; width: 40px; height: 20px; background: #333; border-radius: 10px; }
#ps-button { bottom: 35px; left: 50%; transform: translateX(-50%); width: 50px; height: 30px; background: #1a1a1a; border-radius: 5px; border: 2px solid #555; }
#touchpad { top: 110px; left: 50%; transform: translateX(-50%); width: 180px; height: 90px; background: #333; border-radius: 10px; border: 2px solid #222; }